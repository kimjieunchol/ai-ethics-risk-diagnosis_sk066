# prompts/service_analysis.py - 강화된 서비스 분석 프롬프트

SERVICE_ANALYSIS_PROMPT = """
다음 AI 서비스에 대한 매우 상세한 종합 분석을 수행하세요.

## 서비스명
{service_name}

## 수집된 정보
### 개요 정보
{overview_info}

### 윤리 관련 정보
{ethics_info}

## 분석 요구사항

다음 항목을 매우 상세하게 분석하세요 (각 항목당 최소 200자 이상):

### 1. 서비스 개요 (Service Overview)
- **상세 설명**: 서비스의 핵심 기능, 기술적 특징, 차별화 요소
- **주요 기능**: 최소 5개 이상의 구체적인 기능 나열
- **대상 사용자**: 세분화된 사용자 그룹 (B2C, B2B, 개발자 등)
- **활용 사례**: 실제 사용 사례 및 적용 분야 (최소 5개)
- **기술 사양**: AI 모델 유형, 파라미터 규모, 학습 데이터 규모 등

### 2. 기술적 세부사항 (Technical Details)
- **AI 모델 유형**: Transformer, CNN, RNN 등 구체적 아키텍처
- **데이터 사용 방식**: 학습 데이터의 종류, 규모, 수집 방법
- **모델 정보**: 파라미터 수, 학습 방법, 성능 지표
- **인프라**: 클라우드 환경, API 구조, 확장성
- **업데이트 주기**: 모델 업데이트 및 개선 빈도

### 3. 윤리성 관련 측면 (Ethics Aspects)
- **공개된 정책**: 공식 윤리 가이드라인, 사용 정책 (구체적 내용)
- **알려진 이슈**: 과거 논란, 사고, 편향성 문제 (구체적 사례)
- **긍정적 측면**: 윤리적으로 모범적인 사례, 혁신적 접근
- **투명성**: 정보 공개 수준, 기술 문서 제공 여부
- **사용자 보호**: 안전장치, 악용 방지 메커니즘

### 4. 거버넌스 및 정책 (Governance & Policy)
- **책임 조직**: AI 윤리 담당 부서/팀 존재 여부
- **감사 체계**: 내부/외부 감사 프로세스
- **규제 준수**: 관련 법규 및 가이드라인 준수 현황
- **이해관계자 참여**: 외부 전문가, 사용자 피드백 반영

### 5. 추가 중요 사항 (Additional Notes)
- 경쟁 서비스와의 비교
- 업계에서의 위치 및 영향력
- 향후 개발 방향 및 로드맵
- 특이사항 및 주목할 점

응답은 다음 JSON 형식으로만 작성하세요 (다른 텍스트 없이):
{{
  "service_overview": {{
    "description": "<최소 300자 이상의 상세한 서비스 설명>",
    "main_features": ["<기능1>", "<기능2>", "<기능3>", "<기능4>", "<기능5>", "..."],
    "target_users": "<구체적인 사용자 그룹 설명>",
    "use_cases": ["<사례1>", "<사례2>", "<사례3>", "<사례4>", "<사례5>", "..."],
    "technical_specs": {{
      "model_type": "<구체적 모델 유형>",
      "training_data": "<학습 데이터 설명>",
      "parameters": "<파라미터 정보>",
      "deployment": "<배포 방식>"
    }}
  }},
  "technical_details": {{
    "ai_type": "<AI 유형 상세>",
    "data_usage": "<데이터 사용 방식 상세>",
    "model_info": "<모델 상세 정보>",
    "infrastructure": "<인프라 정보>",
    "update_cycle": "<업데이트 주기>"
  }},
  "ethics_aspects": {{
    "public_policies": ["<정책1 상세>", "<정책2 상세>", "..."],
    "known_issues": ["<이슈1 상세>", "<이슈2 상세>", "..."],
    "positive_aspects": ["<긍정적 측면1>", "<긍정적 측면2>", "..."],
    "transparency_level": "<투명성 수준 평가>",
    "safety_measures": ["<안전장치1>", "<안전장치2>", "..."]
  }},
  "governance": {{
    "responsible_org": "<책임 조직 정보>",
    "audit_system": "<감사 체계 설명>",
    "regulatory_compliance": ["<준수 법규1>", "<준수 법규2>", "..."],
    "stakeholder_engagement": "<이해관계자 참여 방식>"
  }},
  "additional_notes": "<기타 중요 사항 최소 200자>"
}}
"""


# prompts/risk_assessment.py - 강화된 리스크 평가 프롬프트

RISK_ASSESSMENT_PROMPT = """
다음 AI 서비스를 '{dimension}' 차원에서 매우 상세하게 평가하세요.

## 서비스 정보
서비스명: {service_name}

## 서비스 분석 결과
{service_analysis}

## 평가 차원: {dimension} ({dimension_description})

## 평가 기준
{evaluation_criteria}

## 참고 가이드라인
{guideline_context}

## 추가 검색 정보
{search_context}

## 상세 평가 요구사항

### 1. 점수 평가 (1-5점)
다음 기준에 따라 정확하게 평가하세요:

**5점 (매우 우수 - Excellent)**:
- 모든 국제 가이드라인을 완벽히 준수
- 명확하고 상세한 정책 문서 및 증거 존재
- 독립적인 제3자 검증 및 인증 완료
- 업계 모범 사례로 인정
- 지속적인 모니터링 및 개선 체계 구축
- 투명한 정보 공개 및 이해관계자 소통

**4점 (우수 - Good)**:
- 대부분의 가이드라인 요구사항 충족
- 주요 정책 및 절차 문서화
- 일부 외부 검증 수행
- 정기적인 평가 및 개선
- 적절한 정보 공개

**3점 (보통 - Fair)**:
- 기본적인 요구사항 충족
- 정책 존재하나 일부 불완전
- 내부 평가만 수행
- 일부 정보 공개
- 여러 개선 필요 영역 존재

**2점 (미흡 - Poor)**:
- 중요 요구사항 다수 미충족
- 정책 불명확하거나 부실
- 검증 및 모니터링 부족
- 투명성 낮음
- 즉각적 개선 필요

**1점 (매우 미흡 - Very Poor)**:
- 기본 요구사항도 미충족
- 정책 전무 또는 매우 부실
- 심각한 윤리적 리스크 존재
- 투명성 전무
- 긴급한 개선 조치 필수

### 2. 상세 평가 설명 (최소 500자)
다음 내용을 반드시 포함하세요:
- 현재 상태에 대한 종합적 평가
- 구체적인 강점과 약점
- 발견된 증거 및 근거
- 가이드라인별 준수 현황
- 리스크 요인 및 영향
- 개선이 필요한 영역

### 3. 구체적 증거 (최소 5개)
다음을 포함한 구체적 증거를 제시하세요:
- 공식 문서 및 정책
- 외부 감사 보고서
- 언론 보도 및 사례
- 학술 연구 결과
- 벤치마크 및 비교 데이터

### 4. 가이드라인 준수 평가
각 가이드라인(EU AI Act, UNESCO, OECD)에 대해:
- 준수 상태 (준수/부분준수/미준수)
- 구체적인 준수 내용
- 미흡한 부분 및 갭 분석
- 개선 권고사항

### 5. 리스크 및 강점 분석
- 발견된 리스크: 구체적인 위험 요인과 잠재적 영향
- 강점: 모범적인 사례 및 우수한 접근법

## 평가 시 반드시 확인할 사항
1. EU AI Act 고위험 AI 요구사항 충족도
2. UNESCO 인간 중심 AI 원칙 반영도
3. OECD 신뢰할 수 있는 AI 원칙 준수도
4. 실제 구현 증거 (정책 문서, 기술 문서, 공개 정보)
5. 알려진 사고/이슈 이력 및 대응
6. 업계 벤치마크 대비 수준
7. 지속적 개선 노력 및 계획

## 응답 형식 (JSON만 출력)
{{
  "score": <1-5 사이의 정수>,
  "description": "<최소 500자 이상의 매우 상세한 평가 설명. 구체적인 사실과 증거를 포함하세요.>",
  "evidence": [
    "<구체적 증거 1: 출처와 함께>",
    "<구체적 증거 2: 출처와 함께>",
    "<구체적 증거 3: 출처와 함께>",
    "<구체적 증거 4: 출처와 함께>",
    "<구체적 증거 5: 출처와 함께>"
  ],
  "guideline_compliance": {{
    "EU AI Act": {{
      "status": "<준수/부분준수/미준수>",
      "details": "<구체적인 준수 내용 최소 200자>",
      "gap": "<미흡한 부분 및 갭 분석>",
      "recommendation": "<개선 권고사항>"
    }},
    "UNESCO": {{
      "status": "<준수/부분준수/미준수>",
      "details": "<구체적인 준수 내용 최소 200자>",
      "gap": "<미흡한 부분 및 갭 분석>",
      "recommendation": "<개선 권고사항>"
    }},
    "OECD": {{
      "status": "<준수/부분준수/미준수>",
      "details": "<구체적인 준수 내용 최소 200자>",
      "gap": "<미흡한 부분 및 갭 분석>",
      "recommendation": "<개선 권고사항>"
    }}
  }},
  "reasoning": "<점수를 매긴 구체적 이유. 왜 이 점수인지 최소 300자 이상 상세 설명>",
  "risks_identified": [
    "<발견된 리스크 1: 구체적 설명>",
    "<발견된 리스크 2: 구체적 설명>",
    "<발견된 리스크 3: 구체적 설명>"
  ],
  "strengths": [
    "<강점 1: 구체적 설명>",
    "<강점 2: 구체적 설명>",
    "<강점 3: 구체적 설명>"
  ],
  "detailed_analysis": "<차원별 심층 분석 최소 400자>",
  "improvement_priority": "<긴급/높음/중간/낮음>",
  "benchmark_comparison": "<업계 평균 대비 수준>"
}}
"""


# prompts/improvement.py - 강화된 개선안 제안 프롬프트

IMPROVEMENT_SUGGESTION_PROMPT = """
다음 AI 서비스의 윤리 리스크 평가 결과를 바탕으로 매우 구체적이고 실행 가능한 개선안을 제안하세요.

## 서비스명
{service_name}

## 리스크 평가 결과
{risk_assessment}

## 개선 우선순위 영역
{priority_areas}

## 개선안 작성 가이드

각 개선 필요 영역에 대해 다음을 포함한 상세한 개선안을 작성하세요:

### 1. 현황 분석 (Current State Analysis)
- 현재 상태 정확한 진단
- 구체적인 문제점 식별
- 문제의 심각성 및 영향 범위
- 방치 시 예상되는 리스크

### 2. 목표 설정 (Goal Setting)
- 구체적이고 측정 가능한 목표
- 목표 점수 및 개선 폭
- 달성 기한 및 마일스톤
- 성공 기준 및 KPI

### 3. 개선 조치 (Improvement Actions)
각 조치마다:
- **제목**: 명확하고 실행 가능한 조치명
- **설명**: 조치의 목적과 내용 (최소 200자)
- **구현 단계**: 5-10단계의 상세한 실행 계획
- **기대 효과**: 구체적이고 측정 가능한 효과
- **성과 지표**: 3-5개의 명확한 KPI
- **소요 기간**: 구체적인 타임라인
- **필요 리소스**: 인력, 예산, 도구 등
- **가이드라인 참조**: 관련 국제 표준
- **리스크 및 장애물**: 예상되는 어려움
- **대응 방안**: 리스크 완화 전략

### 4. 로드맵 (Implementation Roadmap)
- 단기 (1-3개월): 즉각 조치 사항
- 중기 (3-6개월): 체계 구축 사항
- 장기 (6-12개월): 지속 개선 사항

### 5. 모니터링 계획 (Monitoring Plan)
- 진행 상황 추적 방법
- 정기 평가 주기
- 피드백 수집 방법
- 조정 및 개선 프로세스

응답은 다음 JSON 형식으로 작성하세요:
[
  {{
    "dimension": "<차원명>",
    "current_score": <현재 점수>,
    "target_score": <목표 점수>,
    "priority": "<긴급/상/중/하>",
    "current_issues": [
      "<현재 문제점 1: 상세 설명>",
      "<현재 문제점 2: 상세 설명>",
      "<현재 문제점 3: 상세 설명>"
    ],
    "impact_if_ignored": "<방치 시 예상 리스크 최소 200자>",
    "improvements": [
      {{
        "title": "<개선 조치 제목>",
        "description": "<상세 설명 최소 300자>",
        "implementation_steps": [
          "1단계: <구체적 실행 내용>",
          "2단계: <구체적 실행 내용>",
          "3단계: <구체적 실행 내용>",
          "4단계: <구체적 실행 내용>",
          "5단계: <구체적 실행 내용>"
        ],
        "expected_impact": "<기대 효과 구체적 서술>",
        "success_metrics": [
          "<KPI 1: 측정 방법>",
          "<KPI 2: 측정 방법>",
          "<KPI 3: 측정 방법>"
        ],
        "timeline": "<구체적 기간: X주/X개월>",
        "resources_needed": {{
          "human": "<필요 인력 및 역량>",
          "budget": "<예상 예산 범위>",
          "tools": "<필요 도구 및 시스템>",
          "external": "<외부 지원 필요사항>"
        }},
        "guideline_reference": "<관련 가이드라인 및 조항>",
        "risks": ["<예상 리스크 1>", "<예상 리스크 2>"],
        "mitigation": ["<대응 방안 1>", "<대응 방안 2>"]
      }}
    ],
    "roadmap": {{
      "short_term": ["<1-3개월 조치 1>", "<1-3개월 조치 2>"],
      "mid_term": ["<3-6개월 조치 1>", "<3-6개월 조치 2>"],
      "long_term": ["<6-12개월 조치 1>", "<6-12개월 조치 2>"]
    }},
    "monitoring": {{
      "tracking_method": "<진행 상황 추적 방법>",
      "review_cycle": "<평가 주기>",
      "feedback_collection": "<피드백 수집 방법>",
      "adjustment_process": "<조정 프로세스>"
    }}
  }}
]
"""


# prompts/comparison.py - 강화된 비교 분석 프롬프트

COMPARISON_PROMPT = """
다음 여러 AI 서비스들의 윤리 리스크 평가 결과를 매우 상세하게 비교 분석하세요.

## 분석 대상 서비스
{services_list}

## 각 서비스의 평가 결과
{all_assessments}

## 비교 분석 요구사항

다음 내용을 포함하여 종합적이고 상세한 비교 분석을 작성하세요 (최소 2000자):

### 1. 전체 평가 순위 (Overall Ranking)
- 종합 점수 기준 순위 및 상세 평가
- 각 순위의 근거 및 차별점
- 점수 차이의 의미 및 시사점

### 2. 차원별 비교 분석 (Dimension-by-Dimension Analysis)
각 윤리 차원(공정성, 프라이버시, 투명성, 책임성, 안전성)별로:
- 서비스별 점수 및 순위
- 각 서비스의 강점과 약점
- 점수 차이의 구체적 원인
- 차원별 업계 평균 대비 수준
- 모범 사례 및 개선 필요 사례

### 3. 모범 사례 식별 (Best Practices)
- 가장 우수한 사례 및 서비스
- 우수성의 구체적 근거
- 다른 서비스가 벤치마킹할 요소
- 업계 표준으로 삼을 만한 접근법

### 4. 공통 취약점 분석 (Common Vulnerabilities)
- 모든 서비스에 공통적으로 나타나는 약점
- 업계 전반의 개선 필요 영역
- 구조적/체계적 문제점
- 규제 강화 필요 영역

### 5. 차별화 요소 (Differentiation Factors)
- 각 서비스만의 독특한 접근법
- 경쟁 우위 요소
- 혁신적인 윤리 정책
- 차별화 전략의 효과성

### 6. 산업 트렌드 및 시사점 (Industry Trends)
- AI 윤리 분야의 전반적 동향
- 주목할 만한 발전 사항
- 향후 예상되는 변화
- 규제 환경 변화에 따른 영향

### 7. 권고사항 (Recommendations)
- 각 서비스별 개선 방향
- 업계 전반의 개선 과제
- 정책 입안자를 위한 제언
- 사용자를 위한 선택 가이드

작성 시 다음 원칙을 준수하세요:
- 객관적이고 근거 기반의 분석
- 편향되지 않은 균형잡힌 시각
- 구체적인 데이터와 사례 제시
- 실행 가능한 통찰 제공
- 전문적이고 체계적인 구조

한국어로 작성하세요. 마크다운 형식을 사용하세요.
"""